<!-- /me310/1.21.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Eq. 1.21 ‚Ä¢ Laplace Pressure (Surface Tension)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="../styles.css" />
  <script>window.MathJax={chtml:{scale:0.9},options:{renderActions:{addMenu:[]}}}</script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <style>
    /* Header tweaks to match other pages */
    .site-header .container{padding-top:20px;padding-bottom:20px}
    .header-row{display:flex;align-items:center;justify-content:space-between;gap:14px;flex-wrap:wrap}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:10px;border:1px solid #ffffff55;
         background:rgba(255,255,255,.12);color:#fff;text-decoration:none}
    .btn.primary{background:var(--accent);border-color:transparent}
    .btn.primary:hover{filter:brightness(1.06)}

    /* Two-column top section: equations (wide) + inputs (slim) */
    .top-grid{display:grid;gap:12px}
    @media (min-width:1024px){ .top-grid{grid-template-columns:1.5fr .9fr} }

    .ctl{background:#fff;border:1px solid var(--line);border-radius:12px;padding:12px}
    .eqwrap{padding:12px;border:1px dashed var(--line);border-radius:12px;background:#fcfcff}
    .eqbig{font-size:1.02em}

    /* Inputs */
    .controls{display:grid;gap:12px}
    .rowflex{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
    .num-sm{width:170px}
    .controls input.num-sm[type="number"]{width:170px !important}
    .inline{display:flex;align-items:center;gap:8px}

    /* Readout KPIs */
    .kpi{
        display:grid;
        gap:10px;
        margin-top:10px;
        grid-template-columns:repeat(2,minmax(120px,1fr));
    }

    .kpi .lab{font-size:12px;color:#6b7280}
    .kpi .val{font-size:16px;font-weight:600;color:#334155}

    /* Schematic placeholder */
    .schem{height:260px;border:2px dashed var(--line);border-radius:12px;background:#fafcff;display:flex;align-items:center;justify-content:center;color:#64748b}
    .schem small{display:block;margin-top:6px;color:#94a3b8}

    /* Plot area (optional future use) */
    .viz .axis text{font-size:15px}
    .viz .axis-title{font-size:16px}
  </style>
</head>
<body>
  <!-- Header -->
  <header class="site-header">
    <div class="container">
      <div class="header-row">
        <h1 style="margin:0">Laplace Pressure (Surface Tension) ‚Äî Eq. 1.21</h1>
        <a class="btn primary feedback-link" href="../feedback.html" target="_blank" rel="noopener">Send feedback</a>
      </div>
    </div>
  </header>

  <main class="container">
    <nav class="back-row">
      <a href="../index.html" class="back-home" aria-label="Back to home"><span class="chev">‚Üê</span> Home</a>
    </nav>

    <!-- Equations (left) + Inputs (right) -->
    <section class="top-grid">
      <!-- Equations + Symbols -->
      <div class="ctl">
        <div class="eqwrap">
          <div class="note" style="margin-bottom:8px"><b>Laplace pressure jump across a curved interface</b></div>

          <div class="eqbig">
            \( \displaystyle
               \textbf{Droplet (single interface):}\quad \Delta p = \frac{2\sigma}{R}
            \)
          </div>
          <div class="eqbig" style="margin-top:8px">
            \( \displaystyle
               \textbf{Soap bubble (two interfaces):}\quad \Delta p = \frac{4\sigma}{R}
            \)
          </div>

          <div class="note" style="margin-top:12px"><b>Symbols</b>
            <ul style="margin:8px 0 0 20px">
              <li><b>\(\Delta p\)</b> ‚Äî pressure difference (inside minus outside) across the interface</li>
              <li><b>\(\sigma\)</b> ‚Äî surface tension (N¬∑m\(^{-1}\))</li>
              <li><b>\(R\)</b> ‚Äî radius of curvature of the interface (m)</li>
              <li><b>Droplet</b> ‚Äî one liquid‚Äìgas interface; <b>Soap bubble</b> ‚Äî two interfaces (inside & outside film)</li>
            </ul>
          </div>
        </div>

        <!-- Schematic placeholder -->
        <div class="schem" style="margin-top:12px">
          <div style="text-align:center">
            <div>üîß Schematic placeholder</div>
            <small>(interface, forces, & radius annotation to be added)</small>
          </div>
        </div>
      </div>

      <!-- Controls / Readout -->
      <div class="ctl">
        <div class="controls">
          <!-- Type -->
          <div>
            <label>Interface type</label>
            <div class="rowflex" role="group" aria-label="interface type">
              <label class="inline"><input type="radio" name="itype" value="drop" checked /> Droplet</label>
              <label class="inline"><input type="radio" name="itype" value="bubble" /> Soap bubble</label>
            </div>
          </div>

          <!-- Fluid preset -->
          <div>
            <label>Fluid preset (œÉ at ~20 ¬∞C)</label>
            <select id="fluid">
              <option value="water">Water ‚Äî œÉ ‚âà 0.0728 N/m</option>
              <option value="ethanol">Ethanol ‚Äî œÉ ‚âà 0.0223 N/m</option>
              <option value="mercury">Mercury ‚Äî œÉ ‚âà 0.485 N/m</option>
              <option value="custom">Custom‚Ä¶</option>
            </select>
          </div>

          <!-- Sigma / Radius -->
          <div class="rowflex">
            <div>
              <label>Surface tension, œÉ (N/m)</label>
              <input id="sigma" class="num-sm" type="number" step="0.0001" min="0" value="0.0728" />
            </div>
            <div>
              <label>Radius, R</label>
              <div class="inline">
                <input id="R" class="num-sm" type="number" step="0.000001" min="1e-7" value="0.0005" />
                <select id="Runit" aria-label="radius unit">
                  <option value="m" selected>m</option>
                  <option value="mm">mm</option>
                  <option value="um">Œºm</option>
                </select>
              </div>
            </div>
          </div>

          <!-- Readout -->
          <div>
            <label>Current values</label>
            <div class="kpi">
              <div><div class="lab">Œîp (Pa)</div><div id="kpi_Pa" class="val">‚Äî</div></div>
              <div><div class="lab">Œîp (kPa)</div><div id="kpi_kPa" class="val">‚Äî</div></div>
              <div><div class="lab">Œîp (psi)</div><div id="kpi_psi" class="val">‚Äî</div></div>
              <div><div class="lab">Model</div><div id="kpi_model" class="val">‚Äî</div></div>
            </div>
          </div>

          <p class="note" style="margin:0">
            Eq. 1.21 assumes a static interface with uniform curvature and negligible gravity/viscous effects.
            For bubbles, two interfaces produce double the pressure jump.
          </p>
        </div>
      </div>
    </section>

    <!-- (Optional) Note / future plot area -->
    <section class="card" style="margin-top:12px">
      <div class="note">
        Try very small radii (e.g., 10 Œºm) to see how surface tension can generate very large pressure differences.
        A log‚Äìlog Œîp‚ÄìR plot can be added here later if helpful.
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <a href="../index.html" class="back-home"><span class="chev">‚Üê</span> Home</a>
    </div>
  </footer>

  <script>
    // ---------- state & helpers ----------
    const $ = id => document.getElementById(id);
    const PSI_PER_PA = 1/6894.757293168; // 1 psi = 6894.757... Pa
    const unitToMeters = (val, unit) => {
      const v = parseFloat(val);
      if (!Number.isFinite(v) || v <= 0) return NaN;
      if (unit === 'm')  return v;
      if (unit === 'mm') return v * 1e-3;
      if (unit === 'um') return v * 1e-6;
      return v;
    };

    // fluid presets
    const SIGMA = {
      water:   0.0728,
      ethanol: 0.0223,
      mercury: 0.4850
    };

    function currentModel(){
      const itype = [...document.querySelectorAll('input[name="itype"]')].find(r => r.checked)?.value || 'drop';
      return itype === 'bubble' ? 4 : 2; // factor in Œîp = (2 or 4)*œÉ/R
    }

    function compute(){
      const factor = currentModel();
      const sigma  = Math.max(0, parseFloat($('sigma').value));
      const Rm     = unitToMeters($('R').value, $('Runit').value);
      const valid  = Number.isFinite(sigma) && Number.isFinite(Rm) && Rm > 0;

      let dP = NaN;
      if (valid) dP = factor * sigma / Rm;

      $('kpi_Pa').textContent  = valid ? dP.toFixed(0) : '‚Äî';
      $('kpi_kPa').textContent = valid ? (dP/1000).toFixed(3) : '‚Äî';
      $('kpi_psi').textContent = valid ? (dP*PSI_PER_PA).toFixed(3) : '‚Äî';
      $('kpi_model').textContent = (factor===2 ? 'Droplet' : 'Soap bubble');
    }

    // wiring
    function init(){
      // fluid preset drives sigma (custom leaves sigma editable)
      $('fluid').addEventListener('change', e=>{
        const f = e.target.value;
        if (f in SIGMA){
          $('sigma').value = SIGMA[f].toString();
        }
        compute();
      });

      document.querySelectorAll('input[name="itype"]').forEach(r=> r.addEventListener('change', compute));
      ['sigma','R','Runit'].forEach(id => $(id).addEventListener('input', compute));

      compute();
    }
    window.addEventListener('DOMContentLoaded', init);
  </script>

  <!-- Auto-stamp feedback link with page context (same pattern as other pages) -->
  <script>
    const FEEDBACK = { course: 'ME 310', sim: 'Eq 1.21 Laplace' };
    document.addEventListener('DOMContentLoaded', () => {
      const url = new URL('../feedback.html', location.href);
      if (FEEDBACK.course) url.searchParams.set('course', FEEDBACK.course);
      if (FEEDBACK.sim)    url.searchParams.set('sim',    FEEDBACK.sim);
      document.querySelectorAll('a.feedback-link').forEach(a => {
        a.href = url.toString();
        try { localStorage.setItem('fb_ctx', JSON.stringify(FEEDBACK)); } catch {}
      });
    });
  </script>
</body>
</html>
